import httpx
import asyncio
import json

doc = [
  {
    "id": 0,
    "title": "Pronóstico de lluvia para el fin de semana: Revisa las zonas en las que se esperan precipitaciones",
    "text": "De acuerdo al reporte de la Dirección Meteorológica de Chile, se espera que distintas zonas del país se vean afectadas por precipitaciones durante este fin de semana, incluyendo el viernes 2 de junio. Es específico, se trataría de 11 regiones en total en las que se presentaría el fenómeno, incluyendo a la zona insular de la región de Valparaíso. Ir a la siguiente nota Según el organismo, en la zona insular de la región de Valparaíso, en Isla de Pascua, se espera lluvia en la noche del sábado y toda la jornada del domingo. También se esperan precipitaciones para este viernes en la zona continental de la región de Valparaíso, donde se harían presente durante la mañana y la tarde. El mismo día, en la región Metropolitana, el fenómeno se presentaría en la tarde y en la noche, mientras que en O'Higgins comenzaría en la mañana y terminaría en la noche. Para la región de Maule se pronostica lluvia desde la madrugada hasta la tarde de este 2 de junio, al igual que en Ñuble, donde también caerían chubascos desde la tarde del sábado hasta la madrugada del domingo. En tanto, En Biobío el pronóstico apunta en la madrugada y mañana del viernes, y desde la mañana hasta el resto de la jornada del sábado. Las precipitaciones se harían presente en La Araucanía en la madrugada, tarde y noche del 2 de junio, y desde la madrugada hasta la tarde del día siguiente. Para Los Ríos se espera que el fenómeno se haga presente todo el viernes y el sábado, al igual que en Los Lagos, donde también se extendería en la noche del domingo. Se espera que en la región de Aysén caiga agua-nieve en la madrugada del 2 de junio, mientras que la lluvia se presentaría en la tarde y en la noche. Al día siguiente se registrarían nevadas hasta la mañana y chubascos el resto de la jornada. Finalmente, el domingo, las precipitaciones ocurrirían en la tarde y en la noche. En la región de Magallanes, en Torres del Paine, caerían chubascos desde la madrugada hasta la tarde del viernes. El 3 de junio habría chubascos de agua-nieve en la mañana y en la tarde, y chubascos de niev en la noche; mientras que el domingo la lluvia se registraría en la tarde y en la noche. En tanto, Punta Arenas presentaría precipitaciones en la madrugada, mañana y noche del viernes, además de la noche del domingo. Todo sobre El Tiempo",
    "date": "May 31, 2023 @ 20:00:00.000",
    "url": "https://www.meganoticias.cl/nacional/415732-lluvia-fin-de-semana-santiago-regiones-pronostico-del-tiempo-25-05-2023.html"
  }
]

docs = [
  {
    "id": 0,
    "title": "Pronóstico de lluvia para el fin de semana: Revisa las zonas en las que se esperan precipitaciones",
    "text": "De acuerdo al reporte de la Dirección Meteorológica de Chile, se espera que distintas zonas del país se vean afectadas por precipitaciones durante este fin de semana, incluyendo el viernes 2 de junio. Es específico, se trataría de 11 regiones en total en las que se presentaría el fenómeno, incluyendo a la zona insular de la región de Valparaíso. Ir a la siguiente nota Según el organismo, en la zona insular de la región de Valparaíso, en Isla de Pascua, se espera lluvia en la noche del sábado y toda la jornada del domingo. También se esperan precipitaciones para este viernes en la zona continental de la región de Valparaíso, donde se harían presente durante la mañana y la tarde. El mismo día, en la región Metropolitana, el fenómeno se presentaría en la tarde y en la noche, mientras que en O'Higgins comenzaría en la mañana y terminaría en la noche. Para la región de Maule se pronostica lluvia desde la madrugada hasta la tarde de este 2 de junio, al igual que en Ñuble, donde también caerían chubascos desde la tarde del sábado hasta la madrugada del domingo. En tanto, En Biobío el pronóstico apunta en la madrugada y mañana del viernes, y desde la mañana hasta el resto de la jornada del sábado. Las precipitaciones se harían presente en La Araucanía en la madrugada, tarde y noche del 2 de junio, y desde la madrugada hasta la tarde del día siguiente. Para Los Ríos se espera que el fenómeno se haga presente todo el viernes y el sábado, al igual que en Los Lagos, donde también se extendería en la noche del domingo. Se espera que en la región de Aysén caiga agua-nieve en la madrugada del 2 de junio, mientras que la lluvia se presentaría en la tarde y en la noche. Al día siguiente se registrarían nevadas hasta la mañana y chubascos el resto de la jornada. Finalmente, el domingo, las precipitaciones ocurrirían en la tarde y en la noche. En la región de Magallanes, en Torres del Paine, caerían chubascos desde la madrugada hasta la tarde del viernes. El 3 de junio habría chubascos de agua-nieve en la mañana y en la tarde, y chubascos de niev en la noche; mientras que el domingo la lluvia se registraría en la tarde y en la noche. En tanto, Punta Arenas presentaría precipitaciones en la madrugada, mañana y noche del viernes, además de la noche del domingo. Todo sobre El Tiempo",
    "date": "May 31, 2023 @ 20:00:00.000",
    "url": "https://www.meganoticias.cl/nacional/415732-lluvia-fin-de-semana-santiago-regiones-pronostico-del-tiempo-25-05-2023.html"
  },
  {
    "id": 1,
    "title": "Historia de la tradicional cuenta pública presidencial en Chile",
    "text": "Sin duda que una de las grandes tradiciones republicanas de Chile, son las cuentas públicas que realizan año a año los Presidentes de la República. Este 1 de junio, el Presidente Gabriel Boric se dirigirá al Congreso Pleno y el país, para dar a conocer su segunda cuenta, la cual se realiza en esta fecha desde el año 2017, esto como consecuencia de una reforma constitucional al artículo 24 de la Carta Fundamental, durante el segundo período presidencial de Michelle Bachelet. Ver también / Conozca cuándo es, dónde se realiza y cómo ver la Cuenta Pública ¿Pero en qué día se realizaba la Cuenta Pública presidencial antes del año 2017? De acuerdo al portal GOB.cl, antes de esta explicación tenemos que hacer un poquito de historia, ya que este importante acto, donde el Primer Mandatario presenta su discurso ante el Congreso Pleno para dar cuenta del estado administrativo y político de la nación, a lo largo de sus 185 años de historia ha sufrido varias modificaciones. Te puede interesar tambièn / Cuenta Pública 2022 del Presidente Gabriel Boric (discurso completo) Según explica la Cámara de Diputadas y Diputados, la Cuenta Pública está inspirada en la tradición inglesa y se instauró en Chile durante el período conocido como República Conservadora, al entrar en vigencia la Constitución Política de 1833. Durante el siglo XIX e inicios del XX, la cuenta se realizaba el 1 de junio, fecha que marcaba el comienzo del período de Legislatura Ordinaria del Congreso Nacional, que se extendía hasta el 1 de septiembre. En aquella época, a la costumbre de rendir la cuenta presidencial se unió la práctica del Congreso de contestar el discurso, que se mantuvo hasta 1842. La historia de la tradicional cuenta pública presidencial La Carta Fundamental de 1925 incorporó la tradición de la cuenta anual. En su artículo 56, fijó la apertura de la legislatura ordinaria el día 21 de mayo y su cierre, el día 18 de septiembre, en conmemoración a dos sucesos históricos: el Combate Naval de Iquique (21 de mayo de 1879) y la Primera Junta Nacional de Gobierno (18 de septiembre de 1810). De ese modo, el Presidente Emiliano Figueroa se transformó en el primer Jefe de Estado que dio su cuenta pública un 21 de mayo, en 1926. Salvo excepciones, como las del Presidente Carlos Ibáñez del Campo (1927-1931), quien enviaba sus discursos para que los leyera el secretario del Senado; y del Presidente Jorge Alessandri, quien suspendió la Cuenta de 1960 porque coincidió con el terremoto en Valdivia, la tradición del mensaje Presidencial cada 21 de mayo se mantuvo intacta hasta 1973. La Constitución de 1980, en su texto original, no vinculaba la apertura de la legislatura ordinaria con la cuenta que debía rendir el Presidente de la República, ni señalaba la oportunidad en que ella debía presentarse. Por ello, la tradicional cuenta del 21 de mayo se retomó nuevamente en democracia con el Presidente Patricio Aylwin. Tras la reforma constitucional de 2005, se fijó constitucionalmente el día 21 de mayo para entregar el balance administrativo y político y se eliminó, además, la distinción entre legislatura ordinaria y extraordinaria. Desde 2017, como consecuencia de una reforma constitucional al artículo 24 de la Carta Fundamental, durante el segundo período presidencial de Michelle Bachelet, la cuenta pública retornó a su fecha histórica antes de 1925: el 1 de junio de cada año, ello, con el fin de no empañar con protestas la conmemoración de las Glorias Navales, en Valparaíso. El año 2019 fue la primera vez que el discurso presidencial se realizó en horario nocturno, decisión tomada por el Presidente Sebastián Piñera, para intentar aumentar el alcance en la llegada del mensaje. Cabe destacar que el año 2020, producto de la pandemia, el discurso tuvo que ser cambiado de forma excepcional de fecha, al 31 de julio, también en horario nocturno. El año 2021 la cuenta volvió al día 1 de junio, pero en un nuevo horario, las 15 horas. El 2022, fue la primera Cuenta Pública del Presidente Gabriel Boric, la cual continuó con la tradición del 1 de junio, y en horario matinal, al igual como ocurrirá la jornada de mañana.",
    "date": "May 31, 2023 @ 20:00:00.000",
    "url": "https://www.elciudadano.com/actualidad/historia-de-la-tradicional-cuenta-publica-presidencial-en-chile/06/01/"
  }
]
#   {
#     "id": 1,
#     "title": "Historia de la tradicional cuenta pública presidencial en Chile",
#     "text": "Sin duda que una de las grandes tradiciones republicanas de Chile, son las cuentas públicas que realizan año a año los Presidentes de la República. Este 1 de junio, el Presidente Gabriel Boric se dirigirá al Congreso Pleno y el país, para dar a conocer su segunda cuenta, la cual se realiza en esta fecha desde el año 2017, esto como consecuencia de una reforma constitucional al artículo 24 de la Carta Fundamental, durante el segundo período presidencial de Michelle Bachelet. Ver también / Conozca cuándo es, dónde se realiza y cómo ver la Cuenta Pública ¿Pero en qué día se realizaba la Cuenta Pública presidencial antes del año 2017? De acuerdo al portal GOB.cl, antes de esta explicación tenemos que hacer un poquito de historia, ya que este importante acto, donde el Primer Mandatario presenta su discurso ante el Congreso Pleno para dar cuenta del estado administrativo y político de la nación, a lo largo de sus 185 años de historia ha sufrido varias modificaciones. Te puede interesar tambièn / Cuenta Pública 2022 del Presidente Gabriel Boric (discurso completo) Según explica la Cámara de Diputadas y Diputados, la Cuenta Pública está inspirada en la tradición inglesa y se instauró en Chile durante el período conocido como República Conservadora, al entrar en vigencia la Constitución Política de 1833. Durante el siglo XIX e inicios del XX, la cuenta se realizaba el 1 de junio, fecha que marcaba el comienzo del período de Legislatura Ordinaria del Congreso Nacional, que se extendía hasta el 1 de septiembre. En aquella época, a la costumbre de rendir la cuenta presidencial se unió la práctica del Congreso de contestar el discurso, que se mantuvo hasta 1842. La historia de la tradicional cuenta pública presidencial La Carta Fundamental de 1925 incorporó la tradición de la cuenta anual. En su artículo 56, fijó la apertura de la legislatura ordinaria el día 21 de mayo y su cierre, el día 18 de septiembre, en conmemoración a dos sucesos históricos: el Combate Naval de Iquique (21 de mayo de 1879) y la Primera Junta Nacional de Gobierno (18 de septiembre de 1810). De ese modo, el Presidente Emiliano Figueroa se transformó en el primer Jefe de Estado que dio su cuenta pública un 21 de mayo, en 1926. Salvo excepciones, como las del Presidente Carlos Ibáñez del Campo (1927-1931), quien enviaba sus discursos para que los leyera el secretario del Senado; y del Presidente Jorge Alessandri, quien suspendió la Cuenta de 1960 porque coincidió con el terremoto en Valdivia, la tradición del mensaje Presidencial cada 21 de mayo se mantuvo intacta hasta 1973. La Constitución de 1980, en su texto original, no vinculaba la apertura de la legislatura ordinaria con la cuenta que debía rendir el Presidente de la República, ni señalaba la oportunidad en que ella debía presentarse. Por ello, la tradicional cuenta del 21 de mayo se retomó nuevamente en democracia con el Presidente Patricio Aylwin. Tras la reforma constitucional de 2005, se fijó constitucionalmente el día 21 de mayo para entregar el balance administrativo y político y se eliminó, además, la distinción entre legislatura ordinaria y extraordinaria. Desde 2017, como consecuencia de una reforma constitucional al artículo 24 de la Carta Fundamental, durante el segundo período presidencial de Michelle Bachelet, la cuenta pública retornó a su fecha histórica antes de 1925: el 1 de junio de cada año, ello, con el fin de no empañar con protestas la conmemoración de las Glorias Navales, en Valparaíso. El año 2019 fue la primera vez que el discurso presidencial se realizó en horario nocturno, decisión tomada por el Presidente Sebastián Piñera, para intentar aumentar el alcance en la llegada del mensaje. Cabe destacar que el año 2020, producto de la pandemia, el discurso tuvo que ser cambiado de forma excepcional de fecha, al 31 de julio, también en horario nocturno. El año 2021 la cuenta volvió al día 1 de junio, pero en un nuevo horario, las 15 horas. El 2022, fue la primera Cuenta Pública del Presidente Gabriel Boric, la cual continuó con la tradición del 1 de junio, y en horario matinal, al igual como ocurrirá la jornada de mañana.",
#     "date": "May 31, 2023 @ 20:00:00.000",
#     "url": "https://www.elciudadano.com/actualidad/historia-de-la-tradicional-cuenta-publica-presidencial-en-chile/06/01/"
#   }
# URL de la API

url = "http://localhost:8000/geolocalize"

# Realiza una solicitud POST a la API con la lista de documentos
async def enviar_documentos():
    async with httpx.AsyncClient() as client:
        response = await client.post(url, json=doc)

    if response.status_code == 200: # Respuesta buena
        data = response.json()
        print("Respuesta de la API:", data)
    else:
        print(f"Error al llamar a la API. Código de estado: {response.status_code}")
        print("Respuesta de la API:", response.text)

# Ejecuta la función para enviar los documentos a la API
asyncio.run(enviar_documentos())
